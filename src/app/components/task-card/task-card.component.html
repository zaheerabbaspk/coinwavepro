<div class="rounded-2xl bg-gray-800 border my-3 border-gray-700 p-4">
  <div class="flex items-start gap-3">
    <!-- Icon -->
    <div [class]="'flex items-center justify-center w-12 h-12 rounded-xl flex-shrink-0 ' + iconBgClass">
      <!-- Share Icon -->
      <svg *ngIf="task.icon === 'share'" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-emerald-400" fill="none"
        viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
      </svg>
      <!-- Game Icon -->
      <svg *ngIf="task.icon === 'game'" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400" fill="none"
        viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      <!-- Check-in Icon -->
      <svg *ngIf="task.icon === 'checkin'" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-emerald-400"
        fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      <!-- Default Icon -->
      <svg *ngIf="task.icon === 'default'" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-emerald-400"
        fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
      </svg>
    </div>

    <!-- Content -->
    <div class="flex-1">
      <div class="flex justify-between items-start">
        <div>
          <h4 class="text-white font-semibold">{{ task.title }}</h4>
          <p class="text-sm text-gray-400">{{ task.description }}</p>
        </div>
        <span class="text-emerald-400 font-semibold text-sm">+${{ task.reward.toFixed(2) }}</span>
      </div>

      <!-- Progress bar (for in-progress tasks) -->
      <div *ngIf="task.status === 'in-progress' && task.progress !== undefined" class="mt-3">
        <div class="flex justify-between items-center mb-1">
          <span class="text-xs text-gray-400">Progress</span>
          <span class="text-xs text-gray-400">{{ task.progress }}%</span>
        </div>
        <div class="w-full h-2 bg-gray-700 rounded-full overflow-hidden">
          <div class="h-full bg-gradient-to-r from-emerald-500 to-emerald-400 rounded-full transition-all duration-300"
            [style.width.%]="task.progress">
          </div>
        </div>
      </div>

      <!-- Completed status -->
      <div *ngIf="task.status === 'completed'" class="mt-2">
        <span class="text-emerald-400 text-sm flex items-center gap-1">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
          </svg>
          Completed
        </span>
      </div>

      <!-- Action button -->
      <button *ngIf="buttonConfig" (click)="onAction()"
        [class]="'mt-3 px-4 py-2 rounded-xl text-sm font-semibold flex items-center gap-2 transition-colors ' + buttonConfig.classes">
        <svg *ngIf="buttonConfig.icon === 'play'" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
          viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
        </svg>
        <svg *ngIf="buttonConfig.icon === 'clock'" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
          viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        {{ buttonConfig.text }}
      </button>
    </div>
  </div>
</div>